{"ast":null,"code":"var _jsxFileName = \"/Users/markgiliadov/my-imdb/src/containers/Movies/Movies.js\";\nimport React, { Component } from \"react\";\nimport Movie from \"../../components/Movie/Movie\"; // import Button from \"../../components/Button/Button\";\n\nimport classes from \"./Movies.module.css\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport genericMovies from \"./GenericMovies/GenericMovies\"; // import Rating from \"../../components/Movie/Rating/Rating\";\n\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchingMovies = async ( // urlString,\n    searchInput, popCheck) => {\n      let movieUrl = \"\";\n      const API_KEY = \"?api_key=d0a9ee76df15c9c8e455000b78e70a56\";\n      const languageFilter = \"&language=he-IL\";\n      let myMovies = null;\n      let id_info = [];\n      const baseSearchUrl = \"https://api.themoviedb.org/3/search/movie?query=\";\n      const baseUrl = \"https://api.themoviedb.org/3/movie/\"; // let urlString = baseUrl.concat(\"top_rated\", API_KEY);\n      //  console.log(urlString);\n      // if (searchInput !== \"\" || popCheck) {\n      // if (popCheck)\n      // urlString =\n      //   \"https://api.themoviedb.org/3/movie/now_playing?api_key=d0a9ee76df15c9c8e455000b78e70a56&language=he-IL&page=1\";\n      // else\n\n      let urlSearchString = \"https://api.themoviedb.org/3/search/movie?query=\" + searchInput + \"&api_key=d0a9ee76df15c9c8e455000b78e70a56\";\n\n      if (searchInput !== \"\") {\n        myMovies = async () => await /*#__PURE__*/React.createElement(\"genericMovies\", {\n          baseUrl: baseUrl,\n          urlString: urlSearchString,\n          API_KEY: API_KEY,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }\n        });\n\n        console.log(myMovies); // await fetch(urlString)\n        //   .then((res) => res.json())\n        //   .then((json) => {\n        //     console.log(json);\n        //     id_info = json.results.map((result) => {\n        //       return result.id; // returning id's of movies\n        //     });\n        //   })\n        //   .catch((error) => console.log(error));\n        // // console.log(id_info);\n        // this.setState({\n        //   movies_ids: id_info, // setting an array of id's\n        // });\n        // this.state.movies_ids.map(async (id, index) => {\n        //   movieUrl = baseUrl + id + API_KEY; // creating a movie from the id given\n        //   myMovies[index] = await fetch(movieUrl)\n        //     .then((res) => res.json())\n        //     .then((json) => {\n        //       // console.log(json);\n        //       return json; // returning movie at an index location\n        //     });\n        //   // .catch((error) => {\n        //   //   console.log(error);\n        //   // })\n\n        this.setState({\n          movies: myMovies\n        });\n        console.log(this.state.movies); // });\n\n        this.setState({\n          inputEntered: true\n        });\n      } else {\n        const inputEnabler = this.state.inputEntered;\n        this.setState({\n          inputEntered: !inputEnabler\n        });\n      } // .catch((error) => {\n      //   console.log(error);\n      // })\n      // console.log(myMovies);\n\n    };\n\n    this.searchContent = event => {\n      this.fetchingMovies(event.target.value, false);\n    };\n\n    this.presentPopularMovies = () => {\n      this.fetchingMovies(\"\", true);\n    };\n\n    this.state = {\n      movies: [],\n      movies_ids: [],\n      showMovies: true,\n      inputEntered: true\n    };\n  }\n\n  componentDidMount() {\n    // this.fetchingMovies(\"\", true);\n    this.fetchingMovies(\"s\", false);\n  }\n\n  // presentMovies = () => {\n  //   const doesShow = this.state.showMovies;\n  //   // this.setState({ showMovies: !doesShow });\n  // };\n  // getImgUrl = (baseUrl, path){\n  //   if(path)\n  // }\n  render() {\n    let imgUrl = \"https://image.tmdb.org/t/p/w185/\";\n    let movies = null;\n    let myPath = \"\";\n    let inputEnablerMsg = null;\n    let searchBar = null; // if(this.state.)\n\n    if (this.state.inputEntered) {\n      movies = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, this.state.movies.map((movie, index) => {\n        if (movie.poster_path) myPath = movie.poster_path;else if (movie.backdrop_path) myPath = movie.backdrop_path;else return /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }\n        }, \" NO IMAGE! sorry :(\");\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: movie.id,\n          style: {\n            display: \"flex\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Movie, {\n          title: movie.title,\n          image: imgUrl + myPath,\n          description: movie.overview,\n          name: movie.title,\n          rating: movie.vote_average,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }\n        }));\n      })); // console.log(movies);\n    } else {\n      inputEnablerMsg = /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, \"Please! enter a search input above! :)\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.Movies,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Searchbar, {\n      onChange: this.searchContent.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }), movies, inputEnablerMsg);\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["/Users/markgiliadov/my-imdb/src/containers/Movies/Movies.js"],"names":["React","Component","Movie","classes","Searchbar","genericMovies","Movies","constructor","props","fetchingMovies","searchInput","popCheck","movieUrl","API_KEY","languageFilter","myMovies","id_info","baseSearchUrl","baseUrl","urlSearchString","console","log","setState","movies","state","inputEntered","inputEnabler","searchContent","event","target","value","presentPopularMovies","movies_ids","showMovies","componentDidMount","render","imgUrl","myPath","inputEnablerMsg","searchBar","map","movie","index","poster_path","backdrop_path","id","display","title","overview","vote_average","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Movie from \"../../components/Movie/Movie\";\n// import Button from \"../../components/Button/Button\";\nimport classes from \"./Movies.module.css\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport genericMovies from \"./GenericMovies/GenericMovies\";\n// import Rating from \"../../components/Movie/Rating/Rating\";\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      movies_ids: [],\n      showMovies: true,\n      inputEntered: true,\n    };\n  }\n\n  componentDidMount() {\n    // this.fetchingMovies(\"\", true);\n    this.fetchingMovies(\"s\", false);\n  }\n\n  fetchingMovies = async (\n    // urlString,\n    searchInput,\n    popCheck\n  ) => {\n    let movieUrl = \"\";\n    const API_KEY = \"?api_key=d0a9ee76df15c9c8e455000b78e70a56\";\n    const languageFilter = \"&language=he-IL\";\n    let myMovies = null;\n    let id_info = [];\n    const baseSearchUrl = \"https://api.themoviedb.org/3/search/movie?query=\";\n    const baseUrl = \"https://api.themoviedb.org/3/movie/\";\n    // let urlString = baseUrl.concat(\"top_rated\", API_KEY);\n\n    //  console.log(urlString);\n    // if (searchInput !== \"\" || popCheck) {\n    // if (popCheck)\n    // urlString =\n    //   \"https://api.themoviedb.org/3/movie/now_playing?api_key=d0a9ee76df15c9c8e455000b78e70a56&language=he-IL&page=1\";\n    // else\n    let urlSearchString =\n      \"https://api.themoviedb.org/3/search/movie?query=\" +\n      searchInput +\n      \"&api_key=d0a9ee76df15c9c8e455000b78e70a56\";\n    if (searchInput !== \"\") {\n      myMovies = async () =>\n        await (\n          <genericMovies\n            baseUrl={baseUrl}\n            urlString={urlSearchString}\n            API_KEY={API_KEY}\n          />\n        );\n\n      console.log(myMovies);\n\n      // await fetch(urlString)\n      //   .then((res) => res.json())\n      //   .then((json) => {\n      //     console.log(json);\n      //     id_info = json.results.map((result) => {\n      //       return result.id; // returning id's of movies\n      //     });\n      //   })\n      //   .catch((error) => console.log(error));\n      // // console.log(id_info);\n      // this.setState({\n      //   movies_ids: id_info, // setting an array of id's\n      // });\n      // this.state.movies_ids.map(async (id, index) => {\n      //   movieUrl = baseUrl + id + API_KEY; // creating a movie from the id given\n      //   myMovies[index] = await fetch(movieUrl)\n      //     .then((res) => res.json())\n      //     .then((json) => {\n      //       // console.log(json);\n\n      //       return json; // returning movie at an index location\n      //     });\n      //   // .catch((error) => {\n      //   //   console.log(error);\n      //   // })\n      this.setState({\n        movies: myMovies,\n      });\n      console.log(this.state.movies);\n      // });\n\n      this.setState({ inputEntered: true });\n    } else {\n      const inputEnabler = this.state.inputEntered;\n      this.setState({ inputEntered: !inputEnabler });\n    }\n    // .catch((error) => {\n    //   console.log(error);\n    // })\n\n    // console.log(myMovies);\n  };\n\n  // fetchingPopularMovies = async () => {\n  //   let popUrl =\n  //     \"https://api.themoviedb.org/3/movie/popular?api_key=d0a9ee76df15c9c8e455000b78e70a56\";\n  //   fetch(popUrl)\n  //   .then(res => console.);\n  // };\n  searchContent = (event) => {\n    this.fetchingMovies(event.target.value, false);\n  };\n  presentPopularMovies = () => {\n    this.fetchingMovies(\"\", true);\n  };\n  // presentMovies = () => {\n  //   const doesShow = this.state.showMovies;\n  //   // this.setState({ showMovies: !doesShow });\n  // };\n\n  // getImgUrl = (baseUrl, path){\n\n  //   if(path)\n  // }\n  render() {\n    let imgUrl = \"https://image.tmdb.org/t/p/w185/\";\n\n    let movies = null;\n    let myPath = \"\";\n    let inputEnablerMsg = null;\n    let searchBar = null;\n    // if(this.state.)\n    if (this.state.inputEntered) {\n      movies = (\n        <div>\n          {this.state.movies.map((movie, index) => {\n            if (movie.poster_path) myPath = movie.poster_path;\n            else if (movie.backdrop_path) myPath = movie.backdrop_path;\n            else return <p> NO IMAGE! sorry :(</p>;\n            return (\n              <div key={movie.id} style={{ display: \"flex\" }}>\n                <Movie\n                  title={movie.title}\n                  image={imgUrl + myPath}\n                  description={movie.overview}\n                  name={movie.title}\n                  rating={movie.vote_average}\n                />\n              </div>\n            );\n          })}\n        </div>\n      );\n      // console.log(movies);\n    } else {\n      inputEnablerMsg = <p>Please! enter a search input above! :)</p>;\n    }\n\n    return (\n      <div className={classes.Movies}>\n        {/* <Button name={\"Show Movies\"} myFunction={this.presentMovies} /> */}\n        {/* <input type=\"text\" onChange={this.searchContent.bind(this)} /> */}\n\n        <Searchbar onChange={this.searchContent.bind(this)}></Searchbar>\n        {movies}\n        {inputEnablerMsg}\n      </div>\n    );\n  }\n}\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}